<nb-card>
  <nb-card-header>{{ context.title }}</nb-card-header>
  <nb-card-body>
    <form [formGroup]="form" class="shift-form">
      <nb-select formControlName="storeId" placeholder="Prodavnica" *ngIf="canSelectStore">
        <nb-option *ngFor="let store of stores" [value]="store.id">
          {{ store.name }}
        </nb-option>
      </nb-select>

      <nb-select formControlName="employeeId" placeholder="Zaposlenik">
        <nb-option *ngFor="let employee of employees" [value]="employee.employeeId">
          {{ employee.employeeName }}
        </nb-option>
      </nb-select>

      <label class="field">
        <span>Datum</span>
        <input nbInput type="date" formControlName="shiftDate" />
      </label>

      <div class="time-row">
        <label class="field">
          <span>Početak</span>
          <input nbInput type="time" formControlName="startTime" />
        </label>
        <label class="field">
          <span>Kraj</span>
          <input nbInput type="time" formControlName="endTime" />
        </label>
      </div>

      <label class="field">
        <span>Pauza (min)</span>
        <input nbInput type="number" min="0" formControlName="breakMinutes" />
      </label>

      <nb-select formControlName="shiftType" placeholder="Tip smjene">
        <nb-option *ngFor="let type of shiftTypes" [value]="type">{{ type }}</nb-option>
      </nb-select>

      <label class="field">
        <span>Odjel</span>
        <input nbInput type="number" min="0" formControlName="departmentId" />
      </label>

      <nb-select formControlName="status" placeholder="Status">
        <nb-option *ngFor="let status of shiftStatuses" [value]="status">{{ status }}</nb-option>
      </nb-select>

      <label class="field">
        <span>Napomena</span>
        <textarea nbInput rows="3" formControlName="note"></textarea>
      </label>

      <label class="field" *ngIf="!context.shift">
        <span>Ponovi (broj dodatnih dana)</span>
        <input nbInput type="number" min="0" formControlName="repeatDays" />
      </label>
    </form>
  </nb-card-body>
  <nb-card-footer class="dialog-actions">
    <button nbButton status="basic" (click)="close()">Odustani</button>
    <button nbButton status="primary" (click)="submit()">Sačuvaj</button>
  </nb-card-footer>
</nb-card>
